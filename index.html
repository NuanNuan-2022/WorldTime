<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>World Clock</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .country {
      background: #fff;
      padding: 15px;
      margin: 10px auto;
      max-width: 400px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .country-name {
      font-weight: bold;
      font-size: 18px;
    }
    .time {
      font-size: 24px;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>World Clock (via API)</h1>
  <div id="countries"></div>

  <script>
    const countries = [
      { name: "Afghanistan", timeZone: "Asia/Kabul" },
      { name: "Albania", timeZone: "Europe/Tirane" },
      { name: "Algeria", timeZone: "Africa/Algiers" },
      { name: "Andorra", timeZone: "Europe/Andorra" },
      { name: "Angola", timeZone: "Africa/Luanda" },
      { name: "Argentina", timeZone: "America/Argentina/Buenos_Aires" },
      { name: "Armenia", timeZone: "Asia/Yerevan" },
      { name: "Australia", timeZone: "Australia/Sydney" },
      { name: "Austria", timeZone: "Europe/Vienna" },
      { name: "Azerbaijan", timeZone: "Asia/Baku" },
      { name: "Bangladesh", timeZone: "Asia/Dhaka" },
      { name: "Belarus", timeZone: "Europe/Minsk" },
      { name: "Belgium", timeZone: "Europe/Brussels" },
      { name: "Bhutan", timeZone: "Asia/Thimphu" },
      { name: "Brazil", timeZone: "America/Sao_Paulo" },
      { name: "Cambodia", timeZone: "Asia/Phnom_Penh" },
      { name: "Cameroon", timeZone: "Africa/Douala" },
      { name: "Canada", timeZone: "America/Toronto" },
      { name: "Chile", timeZone: "America/Santiago" },
      { name: "China", timeZone: "Asia/Shanghai" },
      { name: "Colombia", timeZone: "America/Bogota" },
      { name: "Cuba", timeZone: "America/Havana" },
      { name: "Czech Republic", timeZone: "Europe/Prague" },
      { name: "Denmark", timeZone: "Europe/Copenhagen" },
      { name: "Egypt", timeZone: "Africa/Cairo" },
      { name: "Finland", timeZone: "Europe/Helsinki" },
      { name: "France", timeZone: "Europe/Paris" },
      { name: "Germany", timeZone: "Europe/Berlin" },
      { name: "Greece", timeZone: "Europe/Athens" },
      { name: "India", timeZone: "Asia/Kolkata" },
      { name: "Indonesia", timeZone: "Asia/Jakarta" },
      { name: "Iran", timeZone: "Asia/Tehran" },
      { name: "Iraq", timeZone: "Asia/Baghdad" },
      { name: "Ireland", timeZone: "Europe/Dublin" },
      { name: "Israel", timeZone: "Asia/Jerusalem" },
      { name: "Italy", timeZone: "Europe/Rome" },
      { name: "Japan", timeZone: "Asia/Tokyo" },
      { name: "Kenya", timeZone: "Africa/Nairobi" },
      { name: "Mexico", timeZone: "America/Mexico_City" },
      { name: "Nigeria", timeZone: "Africa/Lagos" },
      { name: "Norway", timeZone: "Europe/Oslo" },
      { name: "Pakistan", timeZone: "Asia/Karachi" },
      { name: "Palestine", timeZone: "Asia/Gaza" },
      { name: "Philippines", timeZone: "Asia/Manila" },
      { name: "Poland", timeZone: "Europe/Warsaw" },
      { name: "Portugal", timeZone: "Europe/Lisbon" },
      { name: "Russia", timeZone: "Europe/Moscow" },
      { name: "Saudi Arabia", timeZone: "Asia/Riyadh" },
      { name: "South Africa", timeZone: "Africa/Johannesburg" },
      { name: "South Korea", timeZone: "Asia/Seoul" },
      { name: "Spain", timeZone: "Europe/Madrid" },
      { name: "Sweden", timeZone: "Europe/Stockholm" },
      { name: "Switzerland", timeZone: "Europe/Zurich" },
      { name: "Syria", timeZone: "Asia/Damascus" },
      { name: "Thailand", timeZone: "Asia/Bangkok" },
      { name: "Turkey", timeZone: "Europe/Istanbul" },
      { name: "Ukraine", timeZone: "Europe/Kyiv" },
      { name: "United Kingdom", timeZone: "Europe/London" },
      { name: "United States", timeZone: "America/New_York" },
      { name: "Vatican City", timeZone: "Europe/Vatican" },
      { name: "Vietnam", timeZone: "Asia/Ho_Chi_Minh" }
    ];

    const container = document.getElementById("countries");

    function createCountryElement(country) {
      const div = document.createElement("div");
      div.className = "country";
      div.innerHTML = `
        <div class="country-name">${country.name}</div>
        <div class="time" id="time-${country.timezone.replace(/\//g, "-")}">Loading...</div>
      `;
      container.appendChild(div);
    }

    async function fetchTime(timezone) {
      try {
        const res = await fetch(`https://worldtimeapi.org/api/timezone/${timezone}`);
        if (!res.ok) throw new Error("API Error");
        const data = await res.json();
        return new Date(data.datetime);
      } catch (err) {
        return null;
      }
    }

    async function updateTimes() {
      for (const country of countries) {
        const date = await fetchTime(country.timezone);
        const elementId = `time-${country.timezone.replace(/\//g, "-")}`;
        const timeElement = document.getElementById(elementId);
        if (date) {
          timeElement.textContent = date.toLocaleTimeString();
        } else {
          timeElement.textContent = "Failed to load";
        }
      }
    }

    // Initialize
    countries.forEach(createCountryElement);
    updateTimes();
    setInterval(updateTimes, 60000); // Update every 1 minute
  </script>
</body>
</html>
